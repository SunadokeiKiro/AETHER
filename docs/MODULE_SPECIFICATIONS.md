# AETHER モジュール詳細仕様書

## 概要

本ドキュメントは14個の標準機能モジュールの詳細仕様を定義します。

---

## モジュール一覧

| # | モジュール | 優先度 | 複雑度 |
|---|------------|--------|--------|
| 1 | 電卓 | 高 | 低 |
| 2 | メモ | 高 | 中 |
| 3 | タイマー | 高 | 中 |
| 4 | カレンダー | 高 | 高 |
| 5 | アラーム | 中 | 低 |
| 6 | ストップウォッチ | 中 | 低 |
| 7 | 単位/通貨換算 | 中 | 低 |
| 8 | ボイスレコーダー | 中 | 中 |
| 9 | ファイルマネージャー | 低 | 高 |
| 10 | スキャナー | 低 | 中 |
| 11 | 天気/環境情報 | 低 | 低 |
| 12 | 通知アグリゲーター | 低 | 中 |
| 13 | メディアコントローラー | 低 | 中 |
| 14 | アプリランチャー | 低 | 低 |

---

## 1. 電卓（Calculator）

### 機能要件

| 機能 | 説明 |
|------|------|
| 基本計算 | 四則演算（+, -, ×, ÷） |
| 関数計算 | sin, cos, tan, log, √, ^, % |
| 履歴表示 | 直近20件の計算履歴 |
| 結果コピー | ワンタップでクリップボードへ |

### AI連携ポイント

| トリガー | AI動作 |
|----------|--------|
| 「〇〇を計算して」 | 計算実行、結果を音声で返答 |
| 計算結果からのコンテキスト | 「この金額を円に換算して」→ 換算モジュールへ連携 |

### 画面構成

```
┌─────────────────────────┐
│  履歴表示エリア          │
│  (スクロール可能)        │
├─────────────────────────┤
│  現在の入力/結果         │
│  (大きなフォント)        │
├─────────────────────────┤
│ C  ( )  %   ÷           │
│ 7   8   9   ×           │
│ 4   5   6   -           │
│ 1   2   3   +           │
│ ±   0   .   =           │
└─────────────────────────┘
```

---

## 2. メモ（Memo）

### 機能要件

| 機能 | 説明 |
|------|------|
| 作成・編集 | Markdown対応テキストエディタ |
| 検索 | タイトル・本文の全文検索 |
| フォルダ管理 | 階層フォルダによる整理、フォルダ間移動 |
| タグ付け | 複数タグによる分類 |
| ピン留め | 重要メモを上部固定 |
| アーカイブ | 完了メモを非表示化 |

### AI連携ポイント

| トリガー | AI動作 |
|----------|--------|
| 「〇〇をメモして」 | 新規メモ作成 |
| メモ内容の分析 | タスク抽出 → ToDo化の提案 |
| 「〇〇に関するメモある？」 | 検索実行、該当メモを表示 |

### データ構造

→ [DATA_MODEL.md](./DATA_MODEL.md) の MEMO エンティティ参照

---

## 3. タイマー（Timer）

### 機能要件

| 機能 | 説明 |
|------|------|
| カウントダウン | 任意時間のタイマー |
| ポモドーロ | 25分作業 + 5分休憩サイクル |
| プリセット | 1分/3分/5分/10分/25分の定型時間 |
| カスタム設定 | システムTimePickerで自由な時間設定 |
| バックグラウンド動作 | アプリ閉じても継続 |
| 通知 | 完了時に通知・サウンド |

> **実装済み**: タイマーとストップウォッチは「タイムクロック」として1つの画面に統合（TabBar切り替え）

### AI連携ポイント（伴走型タイマー）

| フェーズ | AI動作 |
|----------|--------|
| 開始時 | 「何の作業をしますか？」と確認 |
| 作業中 | 静かに見守り（必要に応じて励まし） |
| 休憩開始時 | 「何％終わりましたか？」と進捗確認 |
| 休憩終了時 | 「次は〇〇に取り組みましょう」と提案 |
| 完了時 | 「お疲れ様でした！」+ 振り返りまとめ |

### 画面構成

```
┌─────────────────────────┐
│      ○ プログレス円      │
│                         │
│        25:00            │
│                         │
│    [作業] [休憩]         │
├─────────────────────────┤
│  [開始]  [一時停止]      │
│        [リセット]        │
└─────────────────────────┘
```

---

## 4. カレンダー（Calendar）

### 機能要件

| 機能 | 説明 |
|------|------|
| 表示切替 | 月間 / 週間 / 日間 |
| イベント作成 | タイトル、時間、リマインダー |
| Google連携 | Googleカレンダーと双方向同期 |
| タスク連携 | タスクを予定として表示 |

### AI連携ポイント

| トリガー | AI動作 |
|----------|--------|
| 「明日の予定は？」 | スケジュール読み上げ |
| 「〇〇を予約して」 | イベント作成 |
| メモからのタスク抽出 | 「これを明日の予定に入れますか？」 |

### 外部連携

- Google Calendar API
- Android CalendarContract

---

## 5. アラーム（Alarm）

### 機能要件

| 機能 | 説明 |
|------|------|
| 時刻設定 | 時・分の設定 |
| 繰り返し | 曜日指定での繰り返し |
| ラベル | アラームの名前 |
| スヌーズ | 5/10/15分のスヌーズ |
| 段階的音量 | 徐々に音量アップ |

### AI連携ポイント

| トリガー | AI動作 |
|----------|--------|
| 「明日7時に起こして」 | アラーム作成 |
| 「平日の朝7時にアラーム」 | 繰り返し設定つきで作成 |

---

## 6. ストップウォッチ（Stopwatch）

### 機能要件

| 機能 | 説明 |
|------|------|
| 計測 | 開始/停止/リセット |
| ラップ | ラップタイム記録 |
| 履歴 | 計測履歴の保存 |

### 画面構成

```
┌─────────────────────────┐
│        00:00.00         │
│                         │
│   [スタート] [ラップ]    │
├─────────────────────────┤
│ ラップ 1    00:15.32    │
│ ラップ 2    00:14.88    │
│ ラップ 3    00:16.01    │
└─────────────────────────┘
```

---

## 7. 単位/通貨換算（Converter）

### 機能要件

| カテゴリ | 対応単位 |
|----------|----------|
| 長さ | mm, cm, m, km, in, ft, yd, mi |
| 重さ | mg, g, kg, oz, lb |
| 容量 | ml, L, fl oz, gal |
| 温度 | °C, °F, K |
| 時間 | sec, min, hour, day |
| 通貨 | リアルタイムレート（100種類以上） |

### AI連携ポイント

| トリガー | AI動作 |
|----------|--------|
| 「100ドルは何円？」 | 即座に換算結果を表示 |
| 「5マイルをキロメートルに」 | 単位変換実行 |

---

## 8. ボイスレコーダー（Voice Recorder）

### 機能要件

| 機能 | 説明 |
|------|------|
| 録音 | 高品質音声録音 |
| 再生 | 速度調整可能な再生 |
| トリミング | 録音の編集 |
| 文字起こし | AI音声認識で文字化 |

### AI連携ポイント

| トリガー | AI動作 |
|----------|--------|
| 「録音開始」 | 録音開始 |
| 録音終了後 | 「メモにしますか？」と提案 |
| 文字起こし後 | 要約・タスク抽出の提案 |

---

## 9. ファイルマネージャー（File Manager）

### 機能要件

| 機能 | 説明 |
|------|------|
| ブラウズ | フォルダ/ファイル一覧表示 |
| 操作 | コピー/移動/削除/リネーム |
| 検索 | ファイル名検索 |
| プレビュー | 画像/PDFのプレビュー |

### 外部連携

- Android Storage Access Framework
- MediaStore API

---

## 10. スキャナー（Scanner）

### 機能要件

| 機能 | 説明 |
|------|------|
| 撮影 | カメラでドキュメント撮影 |
| 自動補正 | 傾き補正、コントラスト調整 |
| OCR | 画像内テキスト認識 |
| PDF出力 | 複数ページをPDF化 |

### AI連携ポイント

| トリガー | AI動作 |
|----------|--------|
| OCR後 | 「このテキストをメモにしますか？」 |
| レシートスキャン | 「支出として記録しますか？」 |

---

## 11. 天気/環境情報（Weather）

### 機能要件

| 機能 | 説明 |
|------|------|
| 現在の天気 | 気温、湿度、風速、天候 |
| 予報 | 7日間の天気予報 |
| 時間別 | 24時間の時間別予報 |
| 複数地点 | お気に入り地点の登録 |

### 外部連携

- OpenWeatherMap API または Weather API

---

## 12. 通知アグリゲーター（Notifications）

### 機能要件

| 機能 | 説明 |
|------|------|
| 通知一覧 | 全アプリの通知を一覧表示 |
| フィルタ | アプリ別、重要度別にフィルタ |
| グループ化 | アプリごとにグループ表示 |
| スヌーズ | 通知を後で確認 |

### 外部連携

- NotificationListenerService

---

## 13. メディアコントローラー（Media Controller）

### 機能要件

| 機能 | 説明 |
|------|------|
| 再生制御 | 再生/一時停止/スキップ |
| 音量 | 音量調整 |
| メディア情報 | 曲名、アーティスト、アルバムアート |
| 対応アプリ | Spotify, YouTube Music, etc. |

### 外部連携

- MediaSession API

---

## 14. アプリランチャー（App Launcher）

### 機能要件

| 機能 | 説明 |
|------|------|
| アプリ一覧 | インストール済みアプリ表示 |
| お気に入り | よく使うアプリをピン |
| 検索 | アプリ名検索 |
| 起動 | タップで外部アプリ起動 |

### AI連携ポイント

| トリガー | AI動作 |
|----------|--------|
| 「〇〇を開いて」 | 対象アプリを起動 |

---

## MVP（最小限の製品）スコープ

### フェーズ1（コア機能）

- ホーム画面（アダプティブ・ゲートウェイ）
- AETHER Trigger + AI連携基盤
- 電卓
- メモ
- タイマー

### フェーズ2（時間管理）

- カレンダー（Google連携）
- アラーム
- ストップウォッチ
- タスク自動抽出機能

### フェーズ3（ユーティリティ）

- 単位/通貨換算
- ボイスレコーダー
- 天気/環境情報

### フェーズ4（統合・拡張）

- ファイルマネージャー
- スキャナー
- 通知アグリゲーター
- メディアコントローラー
- アプリランチャー
